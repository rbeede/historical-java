
  

  
  

  
  

  

  
  

  
  

  
  

  

  

  

  

  

  
  
  
  
      
  

      
      
      
      
      
      
        
         
      
      

      
      
      
      

      
      
      

      

  
  

  
  

   
   

   
   


    
	
	

    
    
      
	
	
	<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

    <html>
      <head>
        
        
        
          <title>HttpClient - 
          Creating HttpClient Package Releases
        </title>
        
        
        <style type="text/css">
          @import url("./style/tigris.css");
          @import url("./style/maven.css");
        </style>
        
        
        
        
        
        <link rel="stylesheet" href="./style/print.css" type="text/css" media="print"></link>
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta>
        
          <meta name="author" content="Commons Documentation Team"></meta>
          <meta name="email" content="commons-dev@jakarta.apache.org"></meta>
        
          <meta name="author" content="Jeff Dever"></meta>
          <meta name="email" content="jsdever@apache.org"></meta>
        
        
        
        
      </head>

      <body class="composite">

        <div id="banner">
          <table border="0" width="100%" cellpadding="8" cellspacing="0">
            <tr>
              
              <td>
                
                
                  
                  
                  
                    
                  
                  
                  
                  
                  
                  <a href="http://jakarta.apache.org/">
                    <img border="0" alt="Apache Software Foundation" src="http://jakarta.apache.org/commons/images/jakarta-logo-blue.gif" align="left"></img>
                  </a>
                
              </td>

              
              <td>
                <div id="login" align="right">
                  
                  
                    
                    
                    
                      
                    

                    <a href="http://jakarta.apache.org/commons/httpclient/">
                      <img border="0" alt="HttpClient" src="./images/httpclient_logo.png" align="right"></img>
                    </a>
                  
                </div>
              </td>
            </tr>
          </table>
        </div>
        <div id="breadcrumbs">
          <table border="0" width="100%" cellpadding="4" cellspacing="0">
            <tr>
              
                
                <td>Last published: 13 October 2003
                  | Doc for 2.0-rc2
                </td>
              
              <td>
                <div align="right">
                  
                  
                  
                  
                    
                  
                </div>
              </td>
            </tr>
          </table>
        </div>
        
        <table border="0" width="100%" cellpadding="8" cellspacing="0"> 
          <tr valign="top">
            <td width="20%" id="leftcol">
              <div id="navcolumn">
                

                
                  
    <div>
      <strong>Overview</strong>
      
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="features.html"><img class="handle" src="./images/none.png" alt=""></img>Features</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="news.html"><img class="handle" src="./images/none.png" alt=""></img>News</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="status.html"><img class="handle" src="./images/none.png" alt=""></img>Status</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="downloads.html"><img class="handle" src="./images/none.png" alt=""></img>Download</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="applications.html"><img class="handle" src="./images/none.png" alt=""></img>Applications</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		
          
		
		
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="userguide.html"><img class="handle" src="./images/expanded.png" alt=""></img>User Guide</a>
      	
      </small>
	  
        
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="authentication.html"><img class="handle" src="./images/none.png" alt=""></img>Authentication Guide</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="charencodings.html"><img class="handle" src="./images/none.png" alt=""></img>Character Encodings</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="cookies.html"><img class="handle" src="./images/none.png" alt=""></img>Cookies</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="redirects.html"><img class="handle" src="./images/none.png" alt=""></img>Cross Host Redirects</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="logging.html"><img class="handle" src="./images/none.png" alt=""></img>Logging Guide</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="methods.html"><img class="handle" src="./images/none.png" alt=""></img>Methods</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="http://cvs.apache.org/viewcvs.cgi/jakarta-commons/httpclient/src/examples/"><img class="handle" src="./images/none.png" alt=""></img>Sample Code</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="sslguide.html"><img class="handle" src="./images/none.png" alt=""></img>SSL Guide</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="threading.html"><img class="handle" src="./images/none.png" alt=""></img>Threading</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="troubleshooting.html"><img class="handle" src="./images/none.png" alt=""></img>Trouble Shooting</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="tutorial.html"><img class="handle" src="./images/none.png" alt=""></img>Tutorial</a>
      	
      </small>
	  
        
      
    </div>
  
      
    </div>
  
    
    
    
    
	
	
	
	
	
		
          
		
		
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="developerguide.html"><img class="handle" src="./images/expanded.png" alt=""></img>Developer Guide</a>
      	
      </small>
	  
        
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      		<b><a href="releases.html"><img class="handle" src="./images/none.png" alt=""></img>Release Process</a></b>
      	
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="testwebapp.html"><img class="handle" src="./images/none.png" alt=""></img>Webapp Test Guide</a>
      	
      </small>
	  
        
      
    </div>
  
      
    </div>
  
    </div>
  
                

				
    <div>
      <strong>Project Documentation</strong>
      
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="index.html"><img class="handle" src="./images/none.png" alt=""></img>About HttpClient</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		
		
          
		
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="project-info.html"><img class="handle" src="./images/collapsed.png" alt=""></img>Project Info</a>
      	
      </small>
	  
    </div>
  
    
    
    
    
	
	
	
	
	
		
		
          
		
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="maven-reports.html"><img class="handle" src="./images/collapsed.png" alt=""></img>Project Reports</a>
      	
      </small>
	  
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="apidocs/index.html"><img class="handle" src="./images/none.png" alt=""></img>JavaDocs</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="xref/index.html"><img class="handle" src="./images/none.png" alt=""></img>Source XReference</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="xref-test/index.html"><img class="handle" src="./images/none.png" alt=""></img>Test XReference</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="http://maven.apache.org/development-process.html"><img class="handle" src="./images/none.png" alt=""></img>Development Process</a>
      	
      </small>
	  
        
      
    </div>
  
    </div>
  
                
                
                

                
                
                
                
                	<div style="margin-top: 20px; width: 100%; text-align: center;">
                		<a href="http://maven.apache.org/" title="Powered by Maven"><img style="border: 1px solid black" alt="Powered by Maven" src="./images/logos/maven-propaganda.png"></img></a>
                	</div>
                
              
                
              </div>
            </td>
            <td rowspan="2">
              <div id="bodycol">
                
                <div class="app">
                  
                  
    <div class="h3">
      
      
        <h3>
          <a name="Introduction">Introduction</a>
        </h3>
      
      
    <p>
      
     The 
   
    <em>
      
     Jakarta Commons HttpClient
   
    </em>
   
      project is following the new
   
     
        wave of projects that are using Maven to assist in building 
   
     
        the packages and all the documentation including javadoc and the 
   
     
        website.  These instructions describe the release process for 
   
     
        
   
    <em>
      
     HttpClient
   
    </em>
   
     .  While other commons projects may be similar,
   
     
        these instructions are 
   
    <em>
      
     HttpClient
   
    </em>
   
      specific, but can be
   
     
        adapted to suit other projects.
   
     
      
   
    </p>
   
    </div>
  
    <div class="h3">
      
      
        <h3>
          <a name="Step By Step Instructions">Step By Step Instructions</a>
        </h3>
      
      
    <p>
      
     The following steps are required to create and deploy a release version
   
     
        of a Commons library package.  The 
   
    <code>
      
     example text
   
    </code>
   
      consistently
   
     
        assumes that we are releasing version 
   
    <em>
      
     2.0
   
    </em>
   
      of the 
   
    <em>
      
     httpclient
   
    </em>
   
     
        package.
   
    </p>
   
    <ol>
      
     

        
   
    <li>
      
     Announce your proposed release of a particular package to the
   
     
          
   
    <strong>
      
     commons-httpclient-dev@jakarta.apache.org
   
    </strong>
   
      mailing list,
   
     
          and ask for a vote.  Per the Commons Project charter, votes of
   
     
          committers on the particular package in question (as listed in the
   
     
          
   
    <code>
      
     project.xml
   
    </code>
   
      file) are binding.
   
    <br>
      
    </br>
   
    <br>
      
    </br>
   
    </li>
   
     

        
   
    <li>
      
     Check out and thoroughly test the package code that you plan to
   
     
          release.
   
    <br>
      
    </br>
   
    <br>
      
    </br>
   
    </li>
   
     

        
   
    <li>
      
     Update the project version number in the 
   
    <code>
      
     build.xml
   
    </code>
   
     , 
   
     
          
   
    <code>
      
     project.xml
   
    </code>
   
     , 
   
    <code>
      
     status.xml
   
    </code>
   
     , 
   
    <code>
      
     downloads.xml
   
    </code>
   
     , 
   
     
          and the HttpMethodBase useragent string. There is an Ant property named 
   
     
          
   
    <code>
      
     component.version
   
    </code>
   
      that would be updated to 
   
    <code>
      
     2.0
   
    </code>
   
     .  
   
     
     
   
          Check in any files you have modified.
   
    <br>
      
    </br>
   
    <br>
      
    </br>
   
    </li>
   
     

        
   
    <li>
      
     Update release_notes.txt.  This file should be updated in CVS when
   
     
          patches are committed, but it is frequently not.  Be sure all relevant
   
     
          changes since the last release are included.  This file should be published
   
     
          along with the release source and binary distributions.
   
    <br>
      
    </br>
   
    <br>
      
    </br>
   
    </li>
   
     

        
   
    <li>
      
     In your local repository (or on cvs.apache.org) tag 
   
    <strong>
      
     only
   
    </strong>
   
      the 
   
     
          files in the subdirectory for this package with the package name (in caps) 
   
     
          and version number for the package you are creating.  For example,
   
     
          
   
    <pre>
      
     
            cd $JAKARTA_COMMONS_HOME/httpclient
   
     
            cvs tag HTTPCLIENT_2_0_BETA1
   
     
          
   
    </pre>
   
     
        
   
    </li>
   
     

        
   
    <li>
      
     Regenerate the binary distribution of the code by running
   
     
          
   
    <code>
      
     maven dist
   
    </code>
   
     .  Ensure that you use the lowest reasonable jdk
   
     
          to do the build, 1.2.2.  Review the generated documentation
   
     
          to ensure that it correctly reflects the functionality (and the
   
     
          version number) of this code.
   
    <br>
      
    </br>
   
    <br>
      
    </br>
   
    </li>
   
     

        
   
    <li>
      
     Create a news item.  This should be added to httpclient/xdocs/news.xml and 
   
     
          the jakarta-site2/xdocs/site/news.xml as well as a one liner in
   
     
          jakarta-site2/xdocs/index.html
   
    <br>
      
    </br>
   
    <br>
      
    </br>
   
    </li>
   
     

        
   
    <li>
      
     Run 
   
    <code>
      
     maven site:generate
   
    </code>
   
      to generate the website documentation.  Browse
   
     
          the generated docs in the target directory to ensure that they
   
     
          are correct and complete.  Modify the xdocs as required and when
   
     
          satisfied run 
   
    <code>
      
     maven -Dmaven.username=your.apache.id@ site:deploy
   
    </code>
   
     
          to deploy the site to daedalus.
   
    <br>
      
    </br>
   
    <br>
      
    </br>
   
    </li>
   
     

        
   
    <li>
      
     SSH to daedalus (aka jakarta.apache.org) and create a new subdirectory for the
   
     
          release you are about to create.  For example:
   
     
          
   
    <pre>
      
     
            cd /www/jakarta.apache.org/builds/jakarta-commons/release/commons-httpclient/
   
     
            mkdir v2.0
   
     
          
   
    </pre>
   
     
          NOTE:
   
      Make sure that the directory you create is group writable.
   
    </li>
   
     

        
   
    <li>
      
     Upload the binary and source distribution files to the newly created directory
   
     
          on daedalus.
   
     
          
   
    <pre>
      
     
            scp target/distributions/* \
   
     
            your_apache_id@jakarta.apache.org:\
   
     
            /www/jakarta.apache.org/builds/jakarta-commons/release/commons-httpclient/v2.0/
   
     
          
   
    </pre>
   
     
          NOTE: Make sure that the files you copy are group writable.
   
    </li>
   
     

        
   
    <li>
      
     The release packages must also be uploaded to www.apache.org which is also
   
     
          hosted by daedalus.
   
     
          
   
    <pre>
      
     
            scp target/distributions/commons-httpclient-2.0-src.* \
   
     
              your_apache_id@jakarta.apache.org:\
   
     
              /www/www.apache.org/dist/jakarta/commons/httpclient/source
   
     
            scp target/distributions/commons-httpclient-2.0.* \
   
     
              your_apache_id@jakarta.apache.org:\
   
     
              /www/www.apache.org/dist/jakarta/commons/httpclient/binary
   
     
          
   
    </pre>
   
     
          NOTE: Make sure that the files you copy are group writable.
   
    </li>
   
     

        
   
    <li>
      
     Follow standard procedures to update the Jakarta web site (stored in
   
     
          CVS repository 
   
    <code>
      
     jakarta-site2
   
    </code>
   
      to reflect the availability
   
     
          of the new release.  Generally, you will be updating the following
   
     
          pages:
   
     
          
   
    <ul>
      
     
            
   
    <li>
      
    <code>
      
     xdocs/site/binindex.xml
   
    </code>
   
      - Create a link to the
   
     
              release directory under the 
   
    <strong>
      
     Release Builds
   
    </strong>
   
     
              heading.
   
    </li>
   
     
            
   
    <li>
      
    <code>
      
     xdocs/site/sourceindex.xml
   
    </code>
   
      - Create a link to the
   
     
              release directory under the 
   
    <strong>
      
     Release Builds
   
    </strong>
   
     
              heading.
   
    </li>
   
     
            
   
    <li>
      
    <code>
      
     xdocs/site/news.xml
   
    </code>
   
      - Create a news item that
   
     
              describes the new release, and includes hyperlinks to the
   
     
              release directory.
   
    </li>
   
     
            
   
    <li>
      
    <code>
      
     xdocs/index.xml
   
    </code>
   
      - Create a one line news item
   
     
              that links to the full item in site/news.xml.
   
    </li>
   
     
          
   
    </ul>
   
     
    
   
           
   
    <ul>
      
     
            
   
    <li>
      
     Then run ant at the base to generate the new docs and commit the changes to jakarta-site2.
   
     
              You will be committing the updated xdocs and html.
   
     
              
   
    <pre>
      
     
                ant
   
     
                cvs commit -m "update to reflect release of commons-httpclient"
   
     
            
   
    </pre>
   
    </li>
   
     
            
   
    <li>
      
     If you have an account on daedalus, log in and update the web site:
   
     
              
   
    <pre>
      
     
                cd /www/jakarta.apache.org
   
     
                cvs update index.html site
   
     
            
   
    </pre>
   
    </li>
   
     
          
   
    </ul>
   
     
        
   
    </li>
   
     

        
   
    <li>
      
     Update components.xml in the jakarta-commons/xdocs CVS and then build the 
   
     
          docs by running ant (this may require some configuration).  CVS commit, 
   
     
          then if you have an account on daedalus, update the commons website with a 
   
     
          cvs udpate in /www/jakarta.apache.org/commons.
   
    <br>
      
    </br>
   
    </li>
   
     

        
   
    <li>
      
     Announce the availability of the new package on the following mailing lists:
   
     
          
   
    <ul>
      
     
            
   
    <li>
      
     announcements@jakarta.apache.org
   
    </li>
   
     
            
   
    <li>
      
     commons-dev@jakarta.apache.org
   
    </li>
   
     
            
   
    <li>
      
     commons-user@jakarta.apache.org
   
    </li>
   
     
            
   
    <li>
      
     commons-httpclient-dev@jakarta.apache.org
   
    </li>
   
     
        
   
    </ul>
   
    <br>
      
    </br>
   
    </li>
   
     

        
   
    <li>
      
     Check in bugzilla for all bugs which have been marked 
   
    <code>
      
     LATER
   
    </code>
   
      
   
     
          and update their status appropriately. If you need to have some changes made 
   
     
          to bugzilla you can contact 
   
    <a href="mailto:mvdb@apache.org">
     mvdb@apache.org
   </a>
  
    <br>
      
    </br>
   
    <br>
      
    </br>
   
    </li>
   
     

        
   
    <li>
      
     Deploy the jar file to the ibiblio repository.
   
     
          
   
    <ul>
      
     
            
   
    <li>
      
     If you have an account on the ibiblio server, run 
   
    <code>
      
     maven jar:deploy
   
    </code>
   
    </li>
   
     
            
   
    <li>
      
     If you don't have this account, contact 
   
    <a href="mailto:dion@apache.org">
     dion
   </a>
  
     
              and ask him 
   
    <i>
      
     nicely
   
    </i>
   
      to do it.
   
    </li>
   
     
          
   
    </ul>
   
     
        
   
    </li>
   
     
      
   
    </ol>
   
    </div>
  
                  
                  
                  
                  
                  
                </div>
              </div>
            </td>
          </tr>
        </table>
        <div id="footer">
          <table border="0" style="width:100%" cellpadding="4" cellspacing="0">
            
            <tr>
              <td>
                
                  
                    
                    
                      © 2001-2003, Apache Software Foundation
                    
                  
                  
                

                
              </td>
              
            </tr>
          </table>
        </div>
      </body>
    </html>
  